@* @model Movix.Web.Areas.Admin.Models.UsuarioEditVm *@
@* @{ *@
@*     ViewData["Title"] = "Editar Usuário"; *@
@*     var roles = (IEnumerable<string>)(ViewBag.AllRoles ?? Array.Empty<string>()); *@
@* } *@
@* <h2 class="mb-3">Editar Usuário</h2> *@

@* <form asp-action="Edit" method="post"> *@
@*     @Html.AntiForgeryToken() *@
@*     <input type="hidden" asp-for="Id" /> *@
@*     <div class="mb-3"> *@
@*         <label class="form-label">Email</label> *@
@*         <input asp-for="Email" class="form-control" /> *@
@*         <span asp-validation-for="Email" class="text-danger"></span> *@
@*     </div> *@
@*     <div class="mb-3"> *@
@*         <label class="form-label">Username</label> *@
@*         <input asp-for="UserName" class="form-control" /> *@
@*         <span asp-validation-for="UserName" class="text-danger"></span> *@
@*     </div> *@
@*     <div class="mb-3"> *@
@*         <label class="form-label">Perfil</label> *@
@*         <select asp-for="Role" class="form-select"> *@
@*             @foreach (var r in roles) *@
@*             { *@
@*                 if (string.Equals(r, Model.Role, StringComparison.OrdinalIgnoreCase)) *@
@*                 { *@
@*                     <option value="@r" selected>@r</option> *@
@*                 } *@
@*                 else *@
@*                 { *@
@*                     <option value="@r">@r</option> *@
@*                 } *@
@*             } *@
@*         </select> *@
@*         <span asp-validation-for="Role" class="text-danger"></span> *@
@*     </div> *@

@*     <div class="mt-3"> *@
@*         <button class="btn btn-success" type="submit">Salvar</button> *@
@*         <a class="btn btn-danger ms-2" asp-action="Index">Cancelar</a> *@
@*     </div> *@
@* </form> *@

@* @section Scripts { *@
@*     <partial name="_ValidationScriptsPartial" /> *@
@* } *@




@model Movix.Web.Areas.Admin.Models.UsuarioEditVm

@{
    ViewData["Title"] = "Editar Usuário";
    var roles = (IEnumerable<string>)(ViewBag.AllRoles ?? Array.Empty<string>());
}

<div class="container pb-5" style="padding-top: 140px;">

    <!-- Cabeçalho -->
    <div class="d-flex justify-content-between align-items-end mb-4 border-bottom border-secondary pb-3">
        <div>
            <h6 class="text-uppercase text-info fw-bold mb-1" style="letter-spacing: 2px;">
                Administração
            </h6>
            <h1 class="fw-bold text-white mb-0">Editar Usuário</h1>
        </div>

        <a asp-action="Index" class="btn btn-secondary shadow-lg fw-bold">
            <i class="bi bi-arrow-left-circle me-2"></i> Voltar
        </a>
    </div>

    <!-- Card do Form -->
    <div class="card bg-dark border-0 shadow-lg rounded-4">
        <div class="card-body p-4">

            <form asp-action="Edit" method="post">
                @Html.AntiForgeryToken()
                <input type="hidden" asp-for="Id" />

                <!-- EMAIL -->
                <div class="mb-4">
                    <label class="form-label text-info fw-semibold">Email</label>
                    <input asp-for="Email"
                           class="form-control bg-black text-white border-secondary" />
                    <span asp-validation-for="Email" class="text-danger fw-semibold"></span>
                </div>

                <!-- USERNAME -->
                <div class="mb-4">
                    <label class="form-label text-info fw-semibold">Username</label>
                    <input asp-for="UserName"
                           class="form-control bg-black text-white border-secondary" />
                    <span asp-validation-for="UserName" class="text-danger fw-semibold"></span>
                </div>

                <!-- PERFIL -->
                <div class="mb-4">
                    <label class="form-label text-info fw-semibold">Perfil</label>
                    <select asp-for="Role"
                            class="form-select bg-black text-white border-secondary">
                        @foreach (var r in roles)
                        {
                            <option value="@r" selected="@(Model.Role == r ? "selected" : null)">
                                @r
                            </option>
                        }
                    </select>
                    <span asp-validation-for="Role" class="text-danger fw-semibold"></span>
                </div>

                <!-- Botões -->
                <div class="mt-4 d-flex justify-content-between">

                    <button class="btn btn-success fw-bold shadow px-4" type="submit">
                        <i class="bi bi-check-circle-fill me-2"></i> Salvar
                    </button>

                    <a class="btn btn-danger fw-bold shadow px-4" asp-action="Index">
                        <i class="bi bi-x-circle me-2"></i> Cancelar
                    </a>

                </div>

            </form>

        </div>
    </div>

</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
